

<!DOCTYPE html>
<html lang="en">

<head>
    <title>USACO 22DEC 题解 - KarL05&#39;s Blog</title>
<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="author" content="Tony Wu">
<meta name="description" content="[USACO] 全组别题解
1234567题解作者: ...">
<meta name="keywords" content="Blog">

<link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml">

    <meta charset="utf-8">
    <meta name="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <meta content="telephone=no" name="format-detection">
    <meta name="renderer" content="webkit">
    <meta name="theme-color" content="#ffffff">
    


<!-- modify begin -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<meta name="referrer" content="no-referrer"> 
<!-- modify end -->

<link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.1.3/css/bootstrap.min.css" crossorigin="anonymous">
<link rel="stylesheet" href="/css/journal.css?20472191">


<link rel="stylesheet" href="https://lib.baomitu.com/highlight.js/11.2.0/styles/github.min.css" crossorigin="anonymous">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora|Montserrat|Anonymous+Pro:400|Material+Icons">

<meta name="generator" content="Hexo 6.3.0"></head>
<body>
<div id="top"></div>

<div id="app">
<div class="single-column-drawer-container" ref="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            <a class="a-block drawer-menu-item false" href="https://7ue9ueue.github.io">
                Home
            </a>

            
                
                    <a class="a-block drawer-menu-item false"
                       href="/archives">
                        Archive
                    </a>
                
                    <a class="a-block drawer-menu-item false"
                       href="/Trending.html">
                        Trending
                    </a>
                
                    <a class="a-block drawer-menu-item false"
                       href="/tags">
                        Tags
                    </a>
                
                    <a class="a-block drawer-menu-item false"
                       href="/categories">
                        Category
                    </a>
                
                    <a class="a-block drawer-menu-item false"
                       href="/Links.html">
                        Friends
                    </a>
                
                    <a class="a-block drawer-menu-item false"
                       href="/About.html">
                        About Me
                    </a>
                
            
        </div>
    </div>
</div>
<transition name="fade">
    <div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav ref="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div ref="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a ref="navTitle" class="navbar-brand" href="/">
            KarL05&#39;s Blog
        </a>
    </div>
</nav>
<div class="single-column-header-container" ref="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="/">
        <div class="single-column-header-title">KarL05&#39;s Blog</div>
        <div class="single-column-header-subtitle"></div>
    </a>
</div>

<div ref="sideContainer" class="side-container">
    <a class="a-block nav-head false" href="/">
        <div class="nav-title">
            Blog
        </div>
        <div class="nav-subtitle">
            Tony Wu
        </div>
    </a>

    <div class="nav-link-list">
        
            
                <a class="a-block nav-link-item false"
                   href="/archives">
                    Archive
                </a>
            
                <a class="a-block nav-link-item false"
                   href="/Trending.html">
                    Trending
                </a>
            
                <a class="a-block nav-link-item false"
                   href="/tags">
                    Tags
                </a>
            
                <a class="a-block nav-link-item false"
                   href="/categories">
                    Category
                </a>
            
                <a class="a-block nav-link-item false"
                   href="/Links.html">
                    Friends
                </a>
            
                <a class="a-block nav-link-item false"
                   href="/About.html">
                    About Me
                </a>
            
        
    </div>

    
    <div class="nav-footer">
        Proudly published with Hexo<br>
        
        Theme <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> by <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a><br>
        
        &copy; 2023 <a href="https://7ue9ueue.github.io">KarL05&#39;s Blog</a>
    </div>
</div>

<div ref="extraContainer" class="extra-container">
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>

        
    </div>
</div>



<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            <div class="post-head-wrapper-text-only"
                 style="background-image: url('')">
                <div class="post-title">
                    USACO 22DEC 题解
                    <div class="post-meta">
                        <time datetime="2022-12-31T16:00:00.000Z" itemprop="datePublished">
                            2023-01-01 00:00
                        </time>&nbsp;
                        
                        
                        <i class="material-icons" style="">folder</i>
                        
                        <a href='/categories/题解Solution/'>题解Solution</a>
                        
                        
    
                        
                        
                        <i class="material-icons" style="">label</i>
                        
                        <a href='/tags/中文Chinese/'>中文Chinese</a>, 
                        
                        <a href='/tags/归档Archived/'>归档Archived</a>, 
                        
                        <a href='/tags/信竞OI/'>信竞OI</a>
                        
                        
                    </div>
                </div>
            </div>
    
            <div class="post-body-wrapper">
                <div class="post-body">
                    
                    <h1 id="usaco-全组别题解">[USACO] 全组别题解</h1>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">题解作者: </span><br><span class="line">BronzeT1: tiger2005 	BronzeT2: Delta Coding 	BronzeT3: tiger2005 </span><br><span class="line">SilverT1: tiger2005 	SilverT2: tiger2005 		SilverT3: tiger2005</span><br><span class="line">GoldT1: tiger2005 		GoldT2: tiger2005 			GoldT3: tiger2005</span><br><span class="line">PlatinumT1: KarL05		PlatinumT2: KarL05 			PlatinumT3: KarL05</span><br><span class="line"></span><br><span class="line">非常感谢 tiger2005 提供的题解!</span><br></pre></td></tr></table></figure>
<h2 id="bronze-t1">Bronze T1</h2>
<h3 id="题意简述">题意简述</h3>
<p>有一个序列 <span class="math inline">\(a\)</span>，你可以将不超过
<span class="math inline">\(L\)</span> 个位置上的数字加上 <span
class="math inline">\(1\)</span>，求出最大的 <span
class="math inline">\(h\)</span>，使得有至少 <span
class="math inline">\(h\)</span> 个 <span class="math inline">\(a_i \geq
h\)</span>。</p>
<h3 id="分析">分析</h3>
<p>对于这种答案对分析的限制非常严重的题目，考虑二分答案。我们在 <span
class="math inline">\(\operatorname{check}(mid)\)</span>
函数中，记录下大于等于 <span class="math inline">\(mid\)</span>
的数字个数和等于 <span class="math inline">\(mid-1\)</span>
的数字个数，分别为 <span class="math inline">\(x\)</span> 和 <span
class="math inline">\(y\)</span>。我们可以将后者中最多 <span
class="math inline">\(L\)</span> 个加一使得它符合 <span
class="math inline">\(a_i \geq mid\)</span>。所以判断条件就是 <span
class="math inline">\(x+\min(y,L) \geq mid\)</span>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> N,L;</span><br><span class="line"><span class="type">int</span> C[<span class="number">100010</span>];</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> m)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> x=<span class="number">0</span>,y=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        <span class="keyword">if</span>(C[i]&gt;=m) ++x;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(C[i]==m<span class="number">-1</span>)  ++y;</span><br><span class="line">    <span class="keyword">return</span> x+<span class="built_in">min</span>(y,L)&gt;=m;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;N,&amp;L);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)   <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;C[i]);</span><br><span class="line">    <span class="type">int</span> l=<span class="number">0</span>,r=N+<span class="number">1</span>,m;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r<span class="number">-1</span>)&#123;</span><br><span class="line">        m=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(m))    l=m;</span><br><span class="line">        <span class="keyword">else</span>    r=m;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,l);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="bronze-t2">Bronze T2</h2>
<p>创建一个n*n大小的二维数组，根据K本出版物计算出两两之间的大小关系，再根据传递性计算出所有(i,
j)之间的大小关系，最后根据大小关系输出结果即可。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">map&lt;string,<span class="type">int</span>&gt; mp;</span><br><span class="line"><span class="type">int</span> K,N;</span><br><span class="line"><span class="type">char</span> str[<span class="number">110</span>][<span class="number">110</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cin &gt;&gt; K &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=N;j++)</span><br><span class="line">            str[i][j]=(i==j?<span class="string">&#x27;B&#x27;</span>:<span class="string">&#x27;?&#x27;</span>);</span><br><span class="line">    string re;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)&#123;</span><br><span class="line">        cin &gt;&gt; re;</span><br><span class="line">        mp[re]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;string&gt; vec;</span><br><span class="line">    vector&lt;string&gt; idl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=K;i++)&#123;</span><br><span class="line">        vec.<span class="built_in">clear</span>();idl.<span class="built_in">clear</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=N;j++)&#123;</span><br><span class="line">            cin &gt;&gt; re;</span><br><span class="line">            <span class="keyword">if</span>(!idl.<span class="built_in">empty</span>() &amp;&amp; re&lt;idl.<span class="built_in">back</span>())&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;(<span class="type">int</span>)idl.<span class="built_in">size</span>();k++)</span><br><span class="line">                    vec.<span class="built_in">push_back</span>(idl[k]);</span><br><span class="line">                idl.<span class="built_in">clear</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;(<span class="type">int</span>)vec.<span class="built_in">size</span>();k++)&#123;</span><br><span class="line">                str[mp[vec[k]]][mp[re]]=<span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">                str[mp[re]][mp[vec[k]]]=<span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            idl.<span class="built_in">push_back</span>(re);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,str[i]+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="bronze-t3">Bronze T3</h2>
<p>建议读懂题目后再阅读下面的内容。</p>
<p>首先我们知道，在 <code>2*2</code>
的方格中的两个奶牛可以有两种选择方式，但是在 <code>1*3</code>
方格旁边中的两个奶牛选择方式只有一个。又因为每一个草块只能选择一次，所以先选择
<code>1*3</code>
类型的奶牛位置可以避免重复计算的麻烦。在计算完之后，田字格中对角线的两个奶牛如果还有草可以选，那么这个田字格可以保证有几个地方没有奶牛（用
<code>X</code> 表示，因为存在的话就会在一开始就被用掉）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.X.</span><br><span class="line"></span><br><span class="line">XGC</span><br><span class="line"></span><br><span class="line">.C.</span><br></pre></td></tr></table></figure>
<p>所以可以放心的选择草块，因为从两个可能的地方任选一个使用掉不可能会影响到其他
<code>2*2</code> 方格中牛的选择。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> N,M;</span><br><span class="line"><span class="type">char</span> A[<span class="number">1010</span>][<span class="number">1010</span>];</span><br><span class="line"><span class="type">int</span> S[<span class="number">1010</span>],L[<span class="number">1010</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;N,&amp;M);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot; %s&quot;</span>,A[i]+<span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=M<span class="number">-2</span>;j++)</span><br><span class="line">            <span class="keyword">if</span>(A[i][j]==<span class="string">&#x27;C&#x27;</span> &amp;&amp; A[i][j+<span class="number">2</span>]==<span class="string">&#x27;C&#x27;</span> &amp;&amp; A[i][j+<span class="number">1</span>]==<span class="string">&#x27;G&#x27;</span>)</span><br><span class="line">                ++ans,A[i][j+<span class="number">1</span>]=<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N<span class="number">-2</span>;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=M;j++)</span><br><span class="line">            <span class="keyword">if</span>(A[i][j]==<span class="string">&#x27;C&#x27;</span> &amp;&amp; A[i+<span class="number">2</span>][j]==<span class="string">&#x27;C&#x27;</span> &amp;&amp; A[i+<span class="number">1</span>][j]==<span class="string">&#x27;G&#x27;</span>)</span><br><span class="line">                ++ans,A[i+<span class="number">1</span>][j]=<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=M;j++)</span><br><span class="line">            <span class="keyword">if</span>((A[i][j]==<span class="string">&#x27;C&#x27;</span> &amp;&amp; A[i+<span class="number">1</span>][j+<span class="number">1</span>]==<span class="string">&#x27;C&#x27;</span>)</span><br><span class="line">            || (A[i][j+<span class="number">1</span>]==<span class="string">&#x27;C&#x27;</span> &amp;&amp; A[i+<span class="number">1</span>][j]==<span class="string">&#x27;C&#x27;</span>))&#123;</span><br><span class="line">                <span class="type">bool</span> hav=<span class="literal">false</span>;</span><br><span class="line">                hav|=(A[i][j]==<span class="string">&#x27;G&#x27;</span>);</span><br><span class="line">                hav|=(A[i][j+<span class="number">1</span>]==<span class="string">&#x27;G&#x27;</span>);</span><br><span class="line">                hav|=(A[i+<span class="number">1</span>][j]==<span class="string">&#x27;G&#x27;</span>);</span><br><span class="line">                hav|=(A[i+<span class="number">1</span>][j+<span class="number">1</span>]==<span class="string">&#x27;G&#x27;</span>);</span><br><span class="line">                <span class="keyword">if</span>(!hav)    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(A[i][j]==<span class="string">&#x27;G&#x27;</span>)    A[i][j]=<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(A[i][j+<span class="number">1</span>]==<span class="string">&#x27;G&#x27;</span>) A[i][j+<span class="number">1</span>]=<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(A[i+<span class="number">1</span>][j]==<span class="string">&#x27;G&#x27;</span>) A[i+<span class="number">1</span>][j]=<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">                <span class="keyword">else</span>    A[i+<span class="number">1</span>][j+<span class="number">1</span>]=<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">                ++ans;</span><br><span class="line">            &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="silver-t1">Silver T1</h2>
<p>建议读懂题目后再阅读下面的内容。</p>
<p>首先我们发现，可以使用一个 <span class="math inline">\(3^9\)</span>
大小的数字储存下一个井字棋状态。由于 <span class="math inline">\(3^9
\leq 2*10^5\)</span>，所以我们可以考虑 <span
class="math inline">\(O(3^9N^2)\)</span> 的方法。</p>
<p>考虑进行深度优先搜索。使用 <code>bool hav[N][N][3**9]</code>
记录下这个状态是否出现过（位置和井字棋的状态），防止重复搜索。如果没有被搜索过，首先判断这个位置上要不要填入棋子，需要的话改变状态。然后判断这个状态是否胜利，是的话记录并且退出。最后想四个方向进行搜索即可。</p>
<p>对于可行状态，可以直接转换成 <code>3*3</code>
的数组，然后暴力判断。建议先预处理出所有状态的可行性。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> GCC optimize(2)</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> N;</span><br><span class="line"><span class="type">char</span> Maz[<span class="number">30</span>][<span class="number">100</span>];</span><br><span class="line"><span class="type">int</span> pw[<span class="number">10</span>];</span><br><span class="line"><span class="type">int</span> fang[<span class="number">4</span>][<span class="number">2</span>]=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"><span class="type">bool</span> dp[<span class="number">30</span>][<span class="number">30</span>][<span class="number">20010</span>];</span><br><span class="line"><span class="type">bool</span> pd[<span class="number">20010</span>];</span><br><span class="line"><span class="type">bool</span> isP[<span class="number">20010</span>];</span><br><span class="line"><span class="type">char</span> mp[<span class="number">5</span>][<span class="number">5</span>];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">isWin</span><span class="params">(<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">3</span>;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">3</span>;j++)&#123;</span><br><span class="line">            mp[i][j]=k%<span class="number">3</span>;</span><br><span class="line">            <span class="keyword">if</span>(mp[i][j]==<span class="number">0</span>) mp[i][j]=<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(mp[i][j]==<span class="number">1</span>)    mp[i][j]=<span class="string">&#x27;M&#x27;</span>;</span><br><span class="line">            <span class="keyword">else</span>    mp[i][j]=<span class="string">&#x27;O&#x27;</span>;</span><br><span class="line">            k/=<span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    string p=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">3</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">3</span>;j++)</span><br><span class="line">            p+=mp[i][j];</span><br><span class="line">        <span class="keyword">if</span>(p==<span class="string">&quot;MOO&quot;</span> || p==<span class="string">&quot;OOM&quot;</span>)    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        p=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">3</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">3</span>;j++)</span><br><span class="line">            p+=mp[j][i];</span><br><span class="line">        <span class="keyword">if</span>(p==<span class="string">&quot;MOO&quot;</span> || p==<span class="string">&quot;OOM&quot;</span>)    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        p=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">3</span>;i++)</span><br><span class="line">        p+=mp[i][i];</span><br><span class="line">    <span class="keyword">if</span>(p==<span class="string">&quot;MOO&quot;</span> || p==<span class="string">&quot;OOM&quot;</span>)    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    p=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">3</span>;i++)</span><br><span class="line">        p+=mp[i][<span class="number">4</span>-i];</span><br><span class="line">    <span class="keyword">if</span>(p==<span class="string">&quot;MOO&quot;</span> || p==<span class="string">&quot;OOM&quot;</span>)    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Draw</span><span class="params">(<span class="type">int</span> k,<span class="type">char</span> q,<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    x=<span class="number">3</span>*x+y;</span><br><span class="line">    <span class="type">int</span> u=(k/pw[x])%<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">if</span>(u!=<span class="number">0</span>)    <span class="keyword">return</span> k;</span><br><span class="line">    <span class="keyword">return</span> k+(q==<span class="string">&#x27;M&#x27;</span>?<span class="number">1</span>:<span class="number">2</span>)*pw[x];</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> ans;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(Maz[x][<span class="number">3</span>*y+<span class="number">1</span>]==<span class="string">&#x27;M&#x27;</span> || Maz[x][<span class="number">3</span>*y+<span class="number">1</span>]==<span class="string">&#x27;O&#x27;</span>)</span><br><span class="line">        k=<span class="built_in">Draw</span>(k,Maz[x][<span class="number">3</span>*y+<span class="number">1</span>],Maz[x][<span class="number">3</span>*y+<span class="number">2</span>]-<span class="string">&#x27;1&#x27;</span>,Maz[x][<span class="number">3</span>*y+<span class="number">3</span>]-<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span>(dp[x][y][k]) <span class="keyword">return</span>;</span><br><span class="line">    dp[x][y][k]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(isP[k])&#123;</span><br><span class="line">        ans+=!pd[k];</span><br><span class="line">        pd[k]=<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>,xx,yy;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">        xx=x+fang[i][<span class="number">0</span>],yy=y+fang[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(Maz[xx][<span class="number">3</span>*yy+<span class="number">1</span>]!=<span class="string">&#x27;\0&#x27;</span> &amp;&amp; Maz[xx][<span class="number">3</span>*yy+<span class="number">1</span>]!=<span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">            <span class="built_in">dfs</span>(xx,yy,k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    pw[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">9</span>;i++)   pw[i]=pw[i<span class="number">-1</span>]*<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;N);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot; %s&quot;</span>,Maz[i]+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;pw[<span class="number">9</span>];i++)    isP[i]=<span class="built_in">isWin</span>(i);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=N;j++)</span><br><span class="line">            <span class="keyword">if</span>(Maz[i][<span class="number">3</span>*j+<span class="number">1</span>]==<span class="string">&#x27;B&#x27;</span>)</span><br><span class="line">                <span class="built_in">dfs</span>(i,j,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="silver-t2">Silver T2</h2>
<h3 id="题意简述-1">题意简述</h3>
<p>给定一些数字 <span class="math inline">\(x_i\)</span>，求出有多少组
<span class="math inline">\((A,B,C)\)</span>，使得 <span
class="math inline">\(1 \leq A \leq B \leq C\)</span>，并且 <span
class="math inline">\(\forall i,x_i \in
\{A,B,C,A+B,B+C,A+C,A+B+C\}\)</span>。</p>
<p>其中保证 <span class="math inline">\(x_i\)</span> 互不相同且个数在 4
到 7 中间。</p>
<h3 id="分析-1">分析</h3>
<p>这道题实际上并没有什么好解决的方法。我们假设上面的 7 种和是 7
个桶，而我们需要做的就是往里面放入几个数字使其对应，然后暴力求出解。我们很容易发现者
7 个数的大小关系只有两个（从小到大）：</p>
<p><span class="math display">\[A,B,C,A+B,B+C,A+C,A+B+C\ or\
A,B,A+B,C,B+C,A+C,A+B+C\]</span></p>
<p>那么我们只需要将 <span class="math inline">\(x_i\)</span>
按大小顺序填进去，然后计算的时候把第三个和第四个交换一下再算一次就行。</p>
<p>关于计算的方法：我们发现会有四种情况：</p>
<p><span class="math inline">\(A,B,C\)</span>
中三个确定了：直接进行校验就行。</p>
<p><span class="math inline">\(A,B,C\)</span> 中两个确定了：通过剩下的 5
个位置中，除了两个确定的位置之和外还有四个位置，并且里面一定有一个确定的数字。直接利用那个数字解出剩下的数字校验。</p>
<p><span class="math inline">\(A,B,C\)</span> 中一个确定了：发现 <span
class="math inline">\(A+B,B+C,A+C\)</span>
中有两个确定，可以直接计算出剩下两个数字并且校验。</p>
<p><span class="math inline">\(A,B,C\)</span> 中没有确定的：可以知道
<span class="math inline">\(A+B,B+C,A+C,A+B+C\)</span> 确定，可以接解出
<span class="math inline">\(A,B,C\)</span>，最后校验就行。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> T,N,A[<span class="number">10</span>];</span><br><span class="line"><span class="type">int</span> B[<span class="number">10</span>],C[<span class="number">4</span>];</span><br><span class="line"><span class="type">int</span> ans;</span><br><span class="line">set&lt;pair&lt;<span class="type">int</span>,pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; &gt; &gt; st;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">checkD</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a==<span class="number">0</span> || a==b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">checkIf</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> C[<span class="number">1</span>]&gt;<span class="number">0</span> &amp;&amp; C[<span class="number">2</span>]&gt;=C[<span class="number">1</span>] &amp;&amp; C[<span class="number">3</span>]&gt;=C[<span class="number">2</span>]</span><br><span class="line">    &amp;&amp; <span class="built_in">checkD</span>(B[<span class="number">1</span>],C[<span class="number">1</span>]) &amp;&amp; <span class="built_in">checkD</span>(B[<span class="number">2</span>],C[<span class="number">2</span>]) &amp;&amp; <span class="built_in">checkD</span>(B[<span class="number">3</span>],C[<span class="number">3</span>])</span><br><span class="line">    &amp;&amp; <span class="built_in">checkD</span>(B[<span class="number">4</span>],C[<span class="number">1</span>]+C[<span class="number">2</span>]) &amp;&amp; <span class="built_in">checkD</span>(B[<span class="number">5</span>],C[<span class="number">1</span>]+C[<span class="number">3</span>]) &amp;&amp; <span class="built_in">checkD</span>(B[<span class="number">6</span>],C[<span class="number">3</span>]+C[<span class="number">2</span>])</span><br><span class="line">    &amp;&amp; <span class="built_in">checkD</span>(B[<span class="number">7</span>],C[<span class="number">1</span>]+C[<span class="number">2</span>]+C[<span class="number">3</span>])</span><br><span class="line">    &amp;&amp; !st.<span class="built_in">count</span>(<span class="built_in">make_pair</span>(C[<span class="number">1</span>],<span class="built_in">make_pair</span>(C[<span class="number">2</span>],C[<span class="number">3</span>])));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">Overall</span><span class="params">()</span></span>&#123;</span><br><span class="line">    C[<span class="number">1</span>]=C[<span class="number">2</span>]=C[<span class="number">3</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(B[<span class="number">1</span>] &amp;&amp; B[<span class="number">2</span>])&#123;</span><br><span class="line">        C[<span class="number">1</span>]=B[<span class="number">1</span>];C[<span class="number">2</span>]=B[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(B[<span class="number">3</span>])    C[<span class="number">3</span>]=B[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(B[<span class="number">5</span>])   C[<span class="number">3</span>]=B[<span class="number">5</span>]-C[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(B[<span class="number">6</span>])   C[<span class="number">3</span>]=B[<span class="number">6</span>]-C[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">else</span> C[<span class="number">3</span>]=B[<span class="number">7</span>]-C[<span class="number">1</span>]-C[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">checkIf</span>())   ++ans,st.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(C[<span class="number">1</span>],<span class="built_in">make_pair</span>(C[<span class="number">2</span>],C[<span class="number">3</span>])));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(B[<span class="number">1</span>] &amp;&amp; B[<span class="number">3</span>])&#123;</span><br><span class="line">        C[<span class="number">1</span>]=B[<span class="number">1</span>];C[<span class="number">3</span>]=B[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">if</span>(B[<span class="number">2</span>])    C[<span class="number">2</span>]=B[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(B[<span class="number">4</span>])   C[<span class="number">2</span>]=B[<span class="number">4</span>]-C[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(B[<span class="number">6</span>])   C[<span class="number">2</span>]=B[<span class="number">6</span>]-C[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">else</span> C[<span class="number">2</span>]=B[<span class="number">7</span>]-C[<span class="number">1</span>]-C[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">checkIf</span>())   ++ans,st.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(C[<span class="number">1</span>],<span class="built_in">make_pair</span>(C[<span class="number">2</span>],C[<span class="number">3</span>])));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(B[<span class="number">2</span>] &amp;&amp; B[<span class="number">3</span>])&#123;</span><br><span class="line">        C[<span class="number">2</span>]=B[<span class="number">2</span>];C[<span class="number">3</span>]=B[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">if</span>(B[<span class="number">1</span>])    C[<span class="number">1</span>]=B[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(B[<span class="number">4</span>])   C[<span class="number">1</span>]=B[<span class="number">4</span>]-C[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(B[<span class="number">5</span>])   C[<span class="number">1</span>]=B[<span class="number">5</span>]-C[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">else</span> C[<span class="number">1</span>]=B[<span class="number">7</span>]-C[<span class="number">2</span>]-C[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">checkIf</span>())   ++ans,st.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(C[<span class="number">1</span>],<span class="built_in">make_pair</span>(C[<span class="number">2</span>],C[<span class="number">3</span>])));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(B[<span class="number">1</span>])&#123;</span><br><span class="line">        C[<span class="number">1</span>]=B[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(B[<span class="number">4</span>])    C[<span class="number">2</span>]=B[<span class="number">4</span>]-C[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(B[<span class="number">5</span>])    C[<span class="number">3</span>]=B[<span class="number">5</span>]-C[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(B[<span class="number">6</span>])&#123;</span><br><span class="line">            <span class="keyword">if</span>(C[<span class="number">2</span>])    C[<span class="number">3</span>]=B[<span class="number">6</span>]-C[<span class="number">2</span>];</span><br><span class="line">            <span class="keyword">else</span>    C[<span class="number">2</span>]=B[<span class="number">6</span>]-C[<span class="number">3</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">checkIf</span>())   ++ans,st.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(C[<span class="number">1</span>],<span class="built_in">make_pair</span>(C[<span class="number">2</span>],C[<span class="number">3</span>])));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(B[<span class="number">2</span>])&#123;</span><br><span class="line">        C[<span class="number">2</span>]=B[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(B[<span class="number">4</span>])    C[<span class="number">1</span>]=B[<span class="number">4</span>]-C[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(B[<span class="number">6</span>])    C[<span class="number">3</span>]=B[<span class="number">6</span>]-C[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(B[<span class="number">5</span>])&#123;</span><br><span class="line">            <span class="keyword">if</span>(C[<span class="number">1</span>])    C[<span class="number">3</span>]=B[<span class="number">5</span>]-C[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">else</span>    C[<span class="number">1</span>]=B[<span class="number">5</span>]-C[<span class="number">3</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">checkIf</span>())   ++ans,st.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(C[<span class="number">1</span>],<span class="built_in">make_pair</span>(C[<span class="number">2</span>],C[<span class="number">3</span>])));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(B[<span class="number">3</span>])&#123;</span><br><span class="line">        C[<span class="number">3</span>]=B[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">if</span>(B[<span class="number">5</span>])    C[<span class="number">1</span>]=B[<span class="number">5</span>]-C[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">if</span>(B[<span class="number">6</span>])    C[<span class="number">2</span>]=B[<span class="number">6</span>]-C[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">if</span>(B[<span class="number">4</span>])&#123;</span><br><span class="line">            <span class="keyword">if</span>(C[<span class="number">1</span>])    C[<span class="number">2</span>]=B[<span class="number">4</span>]-C[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">else</span>    C[<span class="number">1</span>]=B[<span class="number">4</span>]-C[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">checkIf</span>())   ++ans,st.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(C[<span class="number">1</span>],<span class="built_in">make_pair</span>(C[<span class="number">2</span>],C[<span class="number">3</span>])));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> p=<span class="number">1ll</span>*(B[<span class="number">4</span>]+B[<span class="number">5</span>]+B[<span class="number">6</span>])/<span class="number">2</span>;</span><br><span class="line">    C[<span class="number">1</span>]=p-B[<span class="number">6</span>];</span><br><span class="line">    C[<span class="number">2</span>]=p-B[<span class="number">5</span>];</span><br><span class="line">    C[<span class="number">3</span>]=p-B[<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">checkIf</span>())   ++ans,st.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(C[<span class="number">1</span>],<span class="built_in">make_pair</span>(C[<span class="number">2</span>],C[<span class="number">3</span>])));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x==<span class="number">8</span> &amp;&amp; k!=N+<span class="number">1</span>)  <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(k==N+<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">Overall</span>();</span><br><span class="line">        <span class="built_in">swap</span>(B[<span class="number">3</span>],B[<span class="number">4</span>]);</span><br><span class="line">        <span class="built_in">Overall</span>();</span><br><span class="line">        <span class="built_in">swap</span>(B[<span class="number">3</span>],B[<span class="number">4</span>]);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs</span>(x+<span class="number">1</span>,k);</span><br><span class="line">    B[x]=A[k];</span><br><span class="line">    <span class="built_in">dfs</span>(x+<span class="number">1</span>,k+<span class="number">1</span>);</span><br><span class="line">    B[x]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;N);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;A[i]);</span><br><span class="line">        <span class="built_in">sort</span>(A+<span class="number">1</span>,A+N+<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">        ans=<span class="number">0</span>;st.<span class="built_in">clear</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="silver-t3">Silver T3</h2>
<h3 id="题意简述-2">题意简述</h3>
<p>有一个序列 <span class="math inline">\(a\)</span>，你可以操作 <span
class="math inline">\(K\)</span> 次，每次将不超过 <span
class="math inline">\(L\)</span> 个位置上的数字加上 <span
class="math inline">\(1\)</span>，求出最大的 <span
class="math inline">\(h\)</span>，使得有至少 <span
class="math inline">\(h\)</span> 个 <span class="math inline">\(a_i \geq
h\)</span>。</p>
<h3 id="分析-2">分析</h3>
<p>这一题是铜组 T1 的加强版。我们还是使用二分的方法，但是这一次我们将
<span class="math inline">\([mid-K,mid-1]\)</span>
范围中的数字取出，问题转换为可以在这些数字中总共加上 <span
class="math inline">\(K*L\)</span>，求出最多的到达 <span
class="math inline">\(mid\)</span>
的数字数量。此时直接从小到大加即可。</p>
<p>关于正确性：我们并不可以保证这样加是正确的，下面提供一种证法。将
<span class="math inline">\(K\)</span> 次的选择排成 <span
class="math inline">\(K*L\)</span>
的表格，然后从左到右从上到下填入选择的数字：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---L---</span><br><span class="line">| 1 2</span><br><span class="line">| 1 |</span><br><span class="line">K 2 v</span><br><span class="line">| 2</span><br><span class="line">| 2</span><br></pre></td></tr></table></figure>
<p>由于一个数字被填进去的次数不超过 <span
class="math inline">\(K\)</span>
次，所以没有两个数字出现在同一行内，证明完毕。</p>
<p>关于方法：可以使用 <code>map</code> 记录差距，每次取出差距为 <span
class="math inline">\(i\)</span> 的有 <span
class="math inline">\(j\)</span>
个后，直接进行判断即可（具体来讲就是判断 <span
class="math inline">\(curr\)</span> 和 <span
class="math inline">\(i*j\)</span> 的大小，详见代码）。由于最劣方案就是
<code>1,2,3,...</code>，但是总数不超过 <span class="math inline">\(\sqrt
K\)</span>，所以速度是相当可观的。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> N,K,L;</span><br><span class="line"><span class="type">int</span> C[<span class="number">100010</span>];</span><br><span class="line">map&lt;<span class="type">int</span>,<span class="type">int</span>&gt; mp;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> m)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> x=<span class="number">0</span>,y=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        <span class="keyword">if</span>(C[i]&gt;=m) ++x;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(C[i]&gt;=m-K)  mp[m-C[i]]++;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> cnt=<span class="number">1ll</span>*K*L;</span><br><span class="line">    <span class="keyword">for</span>(map&lt;<span class="type">int</span>,<span class="type">int</span>&gt;::iterator it=mp.<span class="built_in">begin</span>();it!=mp.<span class="built_in">end</span>();it++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(cnt&lt;=<span class="number">1ll</span>*(it-&gt;first)*(it-&gt;second))&#123;</span><br><span class="line">            y+=cnt/(it-&gt;first);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt-=<span class="number">1ll</span>*(it-&gt;first)*(it-&gt;second);</span><br><span class="line">        y+=(it-&gt;second);</span><br><span class="line">    &#125;</span><br><span class="line">    mp.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="keyword">return</span> x+y&gt;=m;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;N,&amp;K,&amp;L);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)   <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;C[i]);</span><br><span class="line">    <span class="type">int</span> l=<span class="number">0</span>,r=N+<span class="number">1</span>,m;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r<span class="number">-1</span>)&#123;</span><br><span class="line">        m=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(m))    l=m;</span><br><span class="line">        <span class="keyword">else</span>    r=m;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,l);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="gold-t1">Gold T1</h2>
<h3 id="题意简述-3">题意简述</h3>
<p>给定一个序列 <span class="math inline">\(a_i\)</span>，求出区间个数
<span class="math inline">\([l,r]\ (l &lt; r)\)</span>，使得 <span
class="math inline">\(a_l\)</span> 不等于其他的数字，<span
class="math inline">\(a_r\)</span> 不等于其他的数字。</p>
<h3 id="分析-3">分析</h3>
<p>根据第一个限制，我们求出在 <span class="math inline">\(i\)</span>
后面第一个和 <span class="math inline">\(a_i\)</span> 一样的位置 <span
class="math inline">\(\operatorname{nxt}[i]\)</span>，同理定义 <span
class="math inline">\(\operatorname{prv}[i]\)</span>。那么对于每一个左端点，右端点的取值范围就在
<span class="math inline">\((l,\operatorname{nxt}[l])\)</span>
中间。</p>
<p>考虑到对于一个右端点 <span class="math inline">\(r\)</span>
的限制就是 <span class="math inline">\(\operatorname{prv}[r] \leq
l\)</span>，那么我们只需要求出在这个范围中满足这个条件的数字个数就行。</p>
<p>解决方法有很多。你可以将 <span
class="math inline">\((i,\operatorname{prv}[i])\)</span>
作为一个点进行二维数点，使用 CDQ
分治或者树状数组解决，也可以直接用可持久化线段树维护 <span
class="math inline">\(\operatorname{prv}\)</span> 数组直接求出答案。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> tr[<span class="number">4000010</span>];</span><br><span class="line"><span class="type">int</span> c[<span class="number">4000010</span>][<span class="number">2</span>],nn;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ad</span><span class="params">(<span class="type">int</span> o,<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> p)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ret=++nn;</span><br><span class="line">    c[ret][<span class="number">0</span>]=c[o][<span class="number">0</span>];</span><br><span class="line">    c[ret][<span class="number">1</span>]=c[o][<span class="number">1</span>];</span><br><span class="line">    tr[ret]=tr[o]+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(l==r)    <span class="keyword">return</span> ret;</span><br><span class="line">    <span class="type">int</span> m=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(p&lt;=m)    c[ret][<span class="number">0</span>]=<span class="built_in">ad</span>(c[o][<span class="number">0</span>],l,m,p);</span><br><span class="line">    <span class="keyword">else</span>    c[ret][<span class="number">1</span>]=<span class="built_in">ad</span>(c[o][<span class="number">1</span>],m+<span class="number">1</span>,r,p);</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">que</span><span class="params">(<span class="type">int</span> o1,<span class="type">int</span> o2,<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> ll,<span class="type">int</span> rr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ll&lt;=l &amp;&amp; r&lt;=rr)  <span class="keyword">return</span> tr[o2]-tr[o1];</span><br><span class="line">    <span class="type">int</span> m=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(ll&lt;=m)   ret+=<span class="built_in">que</span>(c[o1][<span class="number">0</span>],c[o2][<span class="number">0</span>],l,m,ll,rr);</span><br><span class="line">    <span class="keyword">if</span>(rr&gt;m)    ret+=<span class="built_in">que</span>(c[o1][<span class="number">1</span>],c[o2][<span class="number">1</span>],m+<span class="number">1</span>,r,ll,rr);</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> N,A[<span class="number">200010</span>],B[<span class="number">200010</span>];</span><br><span class="line"><span class="type">int</span> prv[<span class="number">200010</span>],nxt[<span class="number">200010</span>],rt[<span class="number">200010</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;N);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)   <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;A[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)   B[i]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(B[A[i]]==<span class="number">0</span>)  prv[i]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span>    prv[i]=B[A[i]];</span><br><span class="line">        B[A[i]]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)   B[i]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=N;i;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(B[A[i]]==<span class="number">0</span>)  nxt[i]=N+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span>    nxt[i]=B[A[i]];</span><br><span class="line">        B[A[i]]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        rt[i]=<span class="built_in">ad</span>(rt[i<span class="number">-1</span>],<span class="number">1</span>,N,prv[i]);</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        ans+=<span class="built_in">que</span>(rt[i],rt[nxt[i]<span class="number">-1</span>],<span class="number">1</span>,N,<span class="number">1</span>,i);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="gold-t2">Gold T2</h2>
<p>请认真都清楚题面后继续往下看。这道题的题面比较难以进行抽象化，所以只能读题面了
qwq</p>
<p>我们考虑到一个状态就是位置加上传送门，但是考虑到对于连接 <span
class="math inline">\(u\)</span> 和 <span
class="math inline">\(v\)</span> 的传送门 <span
class="math inline">\(i\)</span>，状态 <span
class="math inline">\((u,i)\)</span> 和 <span
class="math inline">\((v,i)\)</span>
可以互相到达，所以只需要记录传送门作为状态就行，也就是把传送门当作点。</p>
<p>根据题目要求，我们把每一个点第一个传送门和第二个传送门连起来，第三个和第四个连起来。不难发现在
<span class="math inline">\(2N\)</span> 个传送门中连接了 <span
class="math inline">\(2N\)</span>
条边，并且一个传送门在两个端点分别连接了一次，度数一定是 <span
class="math inline">\(2\)</span>。很显然，最后构成的图形就是一些环的集合。</p>
<p>我们考虑修改一个点的传送门顺序，实际上就是把这个图中两条边断开，然后交换起始点拼起来。在两个环上进行考虑，就是把两个环拆成两条线，然后接在一起成为新的环。这实际上将两个连通块连在了一起。</p>
<p>想到了什么？对，我们可以使用最小生成树解决这个问题。我们按照花费从小到大考虑每一个点，如果四个传送门全部连在了一起，那么跳过，否则将它们直接连结在一起。由于前两个和后两个一定在同一个连通块中，这么做就是把两个连通块合并，最后使用并查集维护一下就行了。</p>
<p>具体实现请参考 Kruskal 算法。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> N;</span><br><span class="line"><span class="type">int</span> C[<span class="number">100010</span>],A[<span class="number">100010</span>][<span class="number">4</span>];</span><br><span class="line"><span class="type">int</span> fa[<span class="number">200010</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getF</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x==fa[x]?x:fa[x]=<span class="built_in">getF</span>(fa[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">merg</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    x=<span class="built_in">getF</span>(x);y=<span class="built_in">getF</span>(y);</span><br><span class="line">    fa[x]=y;</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; &gt; vec;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;N);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">2</span>*N;i++)</span><br><span class="line">        fa[i]=i;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d%d&quot;</span>,&amp;C[i],&amp;A[i][<span class="number">0</span>],&amp;A[i][<span class="number">1</span>],&amp;A[i][<span class="number">2</span>],&amp;A[i][<span class="number">3</span>]);</span><br><span class="line">        <span class="built_in">merg</span>(A[i][<span class="number">0</span>],A[i][<span class="number">1</span>]),<span class="built_in">merg</span>(A[i][<span class="number">2</span>],A[i][<span class="number">3</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        vec.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(C[i],i));</span><br><span class="line">    <span class="built_in">sort</span>(vec.<span class="built_in">begin</span>(),vec.<span class="built_in">end</span>());</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>,p,x,y;i&lt;N;i++)&#123;</span><br><span class="line">        p=vec[i].second;</span><br><span class="line">        x=<span class="built_in">getF</span>(A[p][<span class="number">0</span>]),y=<span class="built_in">getF</span>(A[p][<span class="number">2</span>]);</span><br><span class="line">        <span class="keyword">if</span>(x!=y)    fa[x]=y,ans+=vec[i].first;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="gold-t3">Gold T3</h2>
<h3 id="题意简述-4">题意简述</h3>
<p>给定 <span class="math inline">\(N\)</span> 个点，确定排列 <span
class="math inline">\(p\)</span>
数量，满足将前三个点连在一起后，在之后的点中，向在排列中在它前面的点连边，有且只有三个不会和之前的线段相交，随后只保留这三条边。数据保证三点不共线。</p>
<h3 id="分析-4">分析</h3>
<p>这道题的限制实际上只会有两种情况。我们考虑第四个点加入的情况：</p>
<p>第一种是第四个点在一开始的三角形内侧，此时这个点会向三个点连边，并且将三角形分成更小的三角形。在之后的点中，但凡有一个点在大三角形中间，就会落在一个小三角形内，然后分成三个更小的三角形，以此类推。</p>
<p>第二种是在三角形的外侧。此时这个点一定会满足一个性质：和三角形中两个点组成一个更大的三角形，其中包含了原三角形中的一个点。此时可以理解成大三角形被分割成三个小三角形，之后的情况同上。</p>
<p>我们发现，无论怎么样，最后的轮廓一定是一个三角形，里面被大大小小的三角形填满。考虑记录下外围三角形三个点的位置。</p>
<p>记录 <span
class="math inline">\(\operatorname{dp}[i][j][k][l]\)</span> 表示以
<span class="math inline">\(i,j,k\)</span> 三个点作为外围，已经计算了
<span class="math inline">\(l\)</span>
个点的排列数量。考虑转移。一种转移指内部转移。预处理出 <span
class="math inline">\(i,j,k\)</span>
围着的三角形包含的点数量，就相当于在去除了 <span
class="math inline">\(l\)</span>
个后任意取一个。一种是向外扩张。枚举三角形内部的一个点，并且假设之前是这个点和另外两个点围出了三角形，但是被剩下的点扩大了，这个时候直接把答案加上小三角形对应的答案即可。</p>
<p>具体的 <span class="math inline">\(\operatorname{dp}\)</span>
方程式不妨自己试着推一下。</p>
<p>注意：将 <span class="math inline">\(i,j,k\)</span>
按照有序的方式进行储存，可以将常数压缩到 <span
class="math inline">\(\dfrac 1
6\)</span>。如果你的代码超时了可以试着更换方式。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span>&#123;</span><br><span class="line">    <span class="type">double</span> x,y;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lf%lf&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Point</span>(<span class="type">double</span> x=<span class="number">0.0</span>,<span class="type">double</span> y=<span class="number">0.0</span>):<span class="built_in">x</span>(x),<span class="built_in">y</span>(y)&#123;&#125;</span><br><span class="line">    Point <span class="keyword">operator</span> - (<span class="type">const</span> Point p)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Point</span>(x-p.x,y-p.y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> <span class="keyword">operator</span> * (<span class="type">const</span> Point p)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">fabs</span>(x*p.y-y*p.x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;A[<span class="number">45</span>];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">getArea</span><span class="params">(<span class="type">int</span> i,<span class="type">int</span> j,<span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (A[i]-A[j])*(A[j]-A[k]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">inTriangle</span><span class="params">(<span class="type">int</span> i,<span class="type">int</span> j,<span class="type">int</span> k,<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">fabs</span>(<span class="built_in">getArea</span>(i,j,x)+<span class="built_in">getArea</span>(j,k,x)+<span class="built_in">getArea</span>(i,k,x)-<span class="built_in">getArea</span>(i,j,k))&lt;=<span class="number">1e-6</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">sort3</span><span class="params">(<span class="type">int</span>&amp; a,<span class="type">int</span>&amp; b,<span class="type">int</span>&amp; c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a&gt;=b)    <span class="built_in">swap</span>(a,b);</span><br><span class="line">    <span class="keyword">if</span>(a&gt;=c)    <span class="built_in">swap</span>(a,c);</span><br><span class="line">    <span class="keyword">if</span>(b&gt;=c)    <span class="built_in">swap</span>(b,c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> N;</span><br><span class="line"><span class="type">int</span> hav[<span class="number">45</span>][<span class="number">45</span>][<span class="number">45</span>];</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> dp[<span class="number">45</span>][<span class="number">45</span>][<span class="number">45</span>][<span class="number">45</span>];</span><br><span class="line"><span class="type">const</span> <span class="type">long</span> <span class="type">long</span> Md = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;N);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)   A[i].<span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=N;j++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=j+<span class="number">1</span>;k&lt;=N;k++)</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> l=<span class="number">1</span>;l&lt;=N;l++)</span><br><span class="line">                    <span class="keyword">if</span>(l!=i &amp;&amp; l!=j &amp;&amp; l!=k)</span><br><span class="line">                        hav[i][j][k]+=<span class="built_in">inTriangle</span>(i,j,k,l);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=N;j++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=j+<span class="number">1</span>;k&lt;=N;k++)</span><br><span class="line">                dp[<span class="number">3</span>][i][j][k]=<span class="number">6</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> s=<span class="number">4</span>;s&lt;=N;s++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=N;j++)</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> k=j+<span class="number">1</span>;k&lt;=N;k++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(hav[i][j][k]+<span class="number">4</span>&gt;=s)</span><br><span class="line">                        dp[s][i][j][k]=(dp[s<span class="number">-1</span>][i][j][k]*(hav[i][j][k]+<span class="number">4</span>-s))%Md;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> l=<span class="number">1</span>;l&lt;=N;l++)</span><br><span class="line">                        <span class="keyword">if</span>(l!=i &amp;&amp; l!=j &amp;&amp; l!=k &amp;&amp; <span class="built_in">inTriangle</span>(i,j,k,l))&#123;</span><br><span class="line">                            <span class="type">int</span> x,y,z;</span><br><span class="line">                            <span class="comment">// i j l</span></span><br><span class="line">                            x=i,y=j,z=l;</span><br><span class="line">                            <span class="built_in">sort3</span>(x,y,z);</span><br><span class="line">                            (dp[s][i][j][k]+=dp[s<span class="number">-1</span>][x][y][z])%=Md;</span><br><span class="line">                            <span class="comment">// j k l</span></span><br><span class="line">                            x=j,y=k,z=l;</span><br><span class="line">                            <span class="built_in">sort3</span>(x,y,z);</span><br><span class="line">                            (dp[s][i][j][k]+=dp[s<span class="number">-1</span>][x][y][z])%=Md;</span><br><span class="line">                            <span class="comment">// i k l</span></span><br><span class="line">                            x=i,y=k,z=l;</span><br><span class="line">                            <span class="built_in">sort3</span>(x,y,z);</span><br><span class="line">                            (dp[s][i][j][k]+=dp[s<span class="number">-1</span>][x][y][z])%=Md;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=N;j++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=j+<span class="number">1</span>;k&lt;=N;k++)</span><br><span class="line">                (ans+=dp[N][i][j][k])%=Md;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="platinum-t1">Platinum T1</h2>
<p>使得右端点往右边移动, 每次分别统计答案。</p>
<p>则右端点已经被固定住, 可以考虑每个左端点会有多少个答案,
即每个点到右端点的仅出现过一次的数的数量。</p>
<p>这个可以通过线段树维护, 维护区间加(前驱的前驱和前驱-1,
前驱到当前端点+1), 单点永久清空(因为如果左边有两个一样的数字,
那么偏左的那一个是不能被选择的, 永远就无法被选择了,
所以这个位置需要被清空)。</p>
<p>询问时做区间和, 询问端点到前驱在线段树上的和即可。</p>
<p><span class="math inline">\(O(n\log n)\)</span></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> lson p+p</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rson p+p+1</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">2e5</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">	<span class="type">int</span> l;</span><br><span class="line">	<span class="type">int</span> r;</span><br><span class="line">	<span class="type">int</span> zero;</span><br><span class="line">	<span class="type">int</span> tag;</span><br><span class="line">	<span class="type">int</span> sum;</span><br><span class="line">&#125;;</span><br><span class="line">Node t[maxn*<span class="number">4</span>+<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pushdown</span><span class="params">(<span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (!t[p].tag) <span class="keyword">return</span>;</span><br><span class="line">	<span class="type">int</span> tag = t[p].tag;</span><br><span class="line">	t[p].tag = <span class="number">0</span>;</span><br><span class="line">	t[lson].sum += (t[lson].r-t[lson].l+<span class="number">1</span>-t[lson].zero)*tag;</span><br><span class="line">	t[rson].sum += (t[rson].r-t[rson].l+<span class="number">1</span>-t[rson].zero)*tag;</span><br><span class="line">	t[lson].tag += tag;</span><br><span class="line">	t[rson].tag += tag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pushup</span><span class="params">(<span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">	t[p].sum = t[lson].sum+t[rson].sum;</span><br><span class="line">	t[p].zero = t[lson].zero+t[rson].zero;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">	t[p].l = l;</span><br><span class="line">	t[p].r = r;</span><br><span class="line">	<span class="keyword">if</span> (l==r) &#123;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> mid = (l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">	<span class="built_in">build</span>(lson,l,mid);</span><br><span class="line">	<span class="built_in">build</span>(rson,mid+<span class="number">1</span>,r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (l&lt;=t[p].l&amp;&amp;t[p].r&lt;=r) &#123;</span><br><span class="line">		cout&lt;&lt;t[p].l&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;t[p].r&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">		cout&lt;&lt;t[p].sum&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">return</span> t[p].sum;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">pushdown</span>(p);</span><br><span class="line">	<span class="type">int</span> mid = (t[p].l+t[p].r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (l&lt;=mid) ans += <span class="built_in">query</span>(lson,l,r);</span><br><span class="line">	<span class="keyword">if</span> (mid&lt;r) ans += <span class="built_in">query</span>(rson,l,r);</span><br><span class="line">	<span class="built_in">pushup</span>(p);</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (l&lt;=t[p].l&amp;&amp;t[p].r&lt;=r) &#123;</span><br><span class="line">		t[p].sum += (t[p].r-t[p].l-t[p].zero+<span class="number">1</span>)*v;</span><br><span class="line">		t[p].tag += v;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">pushdown</span>(p);</span><br><span class="line">	<span class="type">int</span> mid = (t[p].l+t[p].r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> (l&lt;=mid) <span class="built_in">add</span>(lson,l,r,v);</span><br><span class="line">	<span class="keyword">if</span> (mid&lt;r) <span class="built_in">add</span>(rson,l,r,v);</span><br><span class="line">	<span class="built_in">pushup</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">zero</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> pos)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (t[p].l==t[p].r) &#123;</span><br><span class="line">		t[p].sum = <span class="number">0</span>;</span><br><span class="line">		t[p].zero = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">pushdown</span>(p);</span><br><span class="line">	<span class="type">int</span> mid = (t[p].l+t[p].r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> (pos&lt;=mid) <span class="built_in">zero</span>(lson,pos);</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">zero</span>(rson,pos);</span><br><span class="line">	<span class="built_in">pushup</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[maxn];</span><br><span class="line"><span class="type">int</span> pre[maxn];</span><br><span class="line"><span class="type">int</span> tmp[maxn];</span><br><span class="line"><span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> n;cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">	<span class="built_in">build</span>(<span class="number">1</span>,<span class="number">1</span>,n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">		pre[i] = tmp[a[i]];</span><br><span class="line">		tmp[a[i]] = i;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">2</span>;i&lt;n;i++) &#123;</span><br><span class="line">		<span class="type">int</span> l = pre[i]+<span class="number">1</span>;</span><br><span class="line">		<span class="type">int</span> r = i<span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">if</span> (l&lt;=r) <span class="built_in">add</span>(<span class="number">1</span>,l,r,<span class="number">1</span>);</span><br><span class="line">		l = pre[pre[i]]+<span class="number">1</span>;</span><br><span class="line">		r = pre[i]<span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">if</span> (l&lt;=r) <span class="built_in">add</span>(<span class="number">1</span>,l,r,<span class="number">-1</span>);</span><br><span class="line">		<span class="keyword">if</span> (pre[i]) <span class="built_in">zero</span>(<span class="number">1</span>,pre[i]);</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;query: &quot;</span>&lt;&lt;i+<span class="number">1</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">if</span> (pre[i+<span class="number">1</span>]!=i) ans += <span class="built_in">query</span>(<span class="number">1</span>,pre[i+<span class="number">1</span>]+<span class="number">1</span>,i<span class="number">-1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// for (int i=1;i&lt;n;i++) cout&lt;&lt;query(1,i,i)&lt;&lt;endl;</span></span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;ans = &quot;</span>;</span><br><span class="line">	cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="platinum-t2">Platinum T2</h2>
<p><strong>本题存在通解 (无视k≤2的限制, 同时可以有任意多的重边的做法)
:</strong></p>
<p>如果建立超级汇点, 然后建立超级源点, 使得这两个点重合,
可以发现答案可以被转化为欧拉回路的数量。每一条S到R的路径可以经过汇点,
然后回到源点。本质不同的欧拉回路数就是答案。</p>
<p>这个可以使用 Matrix-Tree 定理配合 BEST 算法解决。</p>
<p>BEST 算法为: <span class="math display">\[
\text{number of euler loops} = t(G) \prod_{v\in G} (\deg(v)-1)!
\]</span></p>
<p>G为原图的 Laplace 矩阵, t(G)为这张图的内向树的数量
(可以使用Matrix-Tree定理计算)。</p>
<p><span class="math inline">\(O(n^3)\)</span></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MOD = <span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> graph[maxn][maxn];</span><br><span class="line"><span class="type">int</span> deg[maxn];</span><br><span class="line"><span class="type">int</span> fac[maxn];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">det</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> f = <span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> res = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++) &#123;</span><br><span class="line">			graph[i][j] += MOD;</span><br><span class="line">			graph[i][j] %= MOD;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++) &#123;</span><br><span class="line">			<span class="type">int</span> x = graph[i][i];</span><br><span class="line">			<span class="type">int</span> y = graph[j][i];</span><br><span class="line">			<span class="keyword">while</span> (y) &#123;</span><br><span class="line">				<span class="type">int</span> tmp = x/y;</span><br><span class="line">				x %= y;</span><br><span class="line">				<span class="built_in">swap</span>(x,y);</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> k=i;k&lt;=n;k++) &#123;</span><br><span class="line">					graph[i][k] = (graph[i][k]-tmp*graph[j][k])%MOD;</span><br><span class="line">					graph[i][k] += MOD;</span><br><span class="line">					graph[i][k] %= MOD;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> k=i;k&lt;=n;k++) <span class="built_in">swap</span>(graph[i][k],graph[j][k]);</span><br><span class="line">				f *= <span class="number">-1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!graph[i][i]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		res *= graph[i][i];</span><br><span class="line">		res %= MOD;</span><br><span class="line">	&#125; </span><br><span class="line">	<span class="keyword">if</span> (f==<span class="number">-1</span>) res = MOD-res;</span><br><span class="line">	res %= MOD;</span><br><span class="line">	res += MOD;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	fac[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;maxn;i++) &#123;</span><br><span class="line">		fac[i] = fac[i<span class="number">-1</span>]*i;</span><br><span class="line">		fac[i] %= MOD;	</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> T;cin&gt;&gt;T;</span><br><span class="line">	<span class="keyword">while</span>(T--&gt;<span class="number">0</span>) &#123;</span><br><span class="line">		<span class="built_in">memset</span>(graph,<span class="number">0</span>,<span class="built_in">sizeof</span>(graph));</span><br><span class="line">		<span class="built_in">memset</span>(deg,<span class="number">0</span>,<span class="built_in">sizeof</span>(deg));</span><br><span class="line">		<span class="type">int</span> ans = <span class="number">1</span>;</span><br><span class="line">		<span class="type">int</span> n;cin&gt;&gt;n;</span><br><span class="line">		<span class="type">int</span> k;cin&gt;&gt;k;</span><br><span class="line">		string s;cin&gt;&gt;s;</span><br><span class="line">		s = <span class="string">&quot;#&quot;</span>+s;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++) &#123;</span><br><span class="line">			<span class="type">char</span> v;cin&gt;&gt;v;</span><br><span class="line">			<span class="keyword">if</span> (v==<span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">				graph[i][i]++;</span><br><span class="line">				graph[i][j]--;</span><br><span class="line">				deg[i]++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (s[i]==<span class="string">&#x27;S&#x27;</span>) &#123;</span><br><span class="line">				graph[n+<span class="number">1</span>][n+<span class="number">1</span>]++;</span><br><span class="line">				graph[n+<span class="number">1</span>][i]--;</span><br><span class="line">				deg[n+<span class="number">1</span>]++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (s[i]==<span class="string">&#x27;R&#x27;</span>) &#123;</span><br><span class="line">				graph[i][i]++;</span><br><span class="line">				graph[i][n+<span class="number">1</span>]--;</span><br><span class="line">				deg[i]++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!graph[i][i]) &#123;</span><br><span class="line">				graph[i][i]++;</span><br><span class="line">				graph[i][n+<span class="number">1</span>]--;</span><br><span class="line">				deg[i]++;</span><br><span class="line">				graph[n+<span class="number">1</span>][n+<span class="number">1</span>]++;</span><br><span class="line">				graph[n+<span class="number">1</span>][i]--;</span><br><span class="line">				deg[n+<span class="number">1</span>]++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		This is called the &quot;BEST&quot;(literally, the abriv of the inventors) algorithm, </span></span><br><span class="line"><span class="comment">		it is implemented based on the Matrix-Tree algorithm.</span></span><br><span class="line"><span class="comment">		This can solve the problem in any K hahahahhahahaa </span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">			ans *= fac[deg[i]<span class="number">-1</span>];</span><br><span class="line">			ans %= MOD;</span><br><span class="line">		&#125;</span><br><span class="line">		ans *= <span class="built_in">det</span>(n);</span><br><span class="line">		ans %= MOD;</span><br><span class="line">		cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="platinum-t3">Platinum T3</h2>
<p>逐行考虑答案, 发现每一行的选择都是连续的,
令每一行选择的是[L[i],R[i]], 可以发现L和R是凸函数, 存在单调性。</p>
<p>利用动态规划维护单调性即可, 朴素的实现是 O(n<sup>4</sup>),
可以使用二维前缀和做到 O(n<sup>3</sup>)。</p>
<p>令 <span class="math inline">\(dp[i][l][r][st1][st2]\)</span>
为考虑到第 i 行, 目前选择区间 [l,r], st1表示左边的递增是否还存在, st2
表示表示右边的递增是否还存在。</p>
<p>如果[l,r] 这一段不能取, continue掉即可。</p>
<p>可以得到转移方程为:</p>
<p><span class="math display">\[
dp[i][l][r][0][0] =
\]</span></p>
<p><span class="math display">\[
\sum dp[i-1][l&#39;][r&#39;][0][0] (l ≤ l&#39; \text{ and } r&#39; ≤ r)
\]</span></p>
<p><span class="math display">\[
dp[i][l][r][0][1] =
\]</span></p>
<p><span class="math display">\[
\sum dp[i-1][l&#39;][r&#39;][0][1] (l ≤ l&#39; \text{ and } r ≤ r&#39;)
\]</span></p>
<p><span class="math display">\[
\sum dp[i-1][l&#39;][r&#39;][0][0] (l ≤ l&#39; \text{ and } r &lt;
r&#39;)
\]</span></p>
<p><span class="math display">\[dp[i][l][r][1][0] = \]</span></p>
<p><span class="math display">\[
\sum dp[i-1][l&#39;][r&#39;][1][0] (l&#39; ≤ l \text{ and } r&#39; ≤ r)
\]</span></p>
<p><span class="math display">\[
\sum dp[i-1][l&#39;][r&#39;][0][0] (l&#39;&lt; l \text{ and } r&#39; ≤
r)
\]</span></p>
<p><span class="math display">\[
dp[i][l][r][1][1] =
\]</span></p>
<p><span class="math display">\[
\sum dp[i-1][l&#39;][r&#39;][0][0] (l&#39; &lt; l \text{ and } r &lt;
r&#39;)
\]</span></p>
<p><span class="math display">\[
\sum dp[i-1][l&#39;][r&#39;][1][0] (l&#39; ≤ l \text{ and } r &lt;
r&#39;)
\]</span></p>
<p><span class="math display">\[
\sum dp[i-1][l&#39;][r&#39;][0][1] (l&#39; &lt; l \text{ and } r ≤
r&#39;)
\]</span></p>
<p><span class="math display">\[
\sum dp[i-1][l&#39;][r&#39;][1][1] (l&#39; ≤ l \text{ and } r ≤ r&#39;)
\]</span></p>
<p>如果做二维前缀和使得</p>
<p><span class="math display">\[
s[i][l][r][st1][st2] = \sum_{x=1}^l\sum_{x=1}^r dp[i][l][r][st1][st2]
\]</span></p>
<p>那么转移就是 O(1), 的, 一共有 O(n^3) 个状态, 那么时间复杂度就是
O(n^3)</p>
<p><span class="math inline">\(O(n^3)\)</span></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">155</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MOD = <span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dp[maxn][maxn][maxn][<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line"><span class="type">int</span> f[maxn][maxn][maxn];</span><br><span class="line"><span class="type">int</span> prx[maxn];</span><br><span class="line"><span class="type">int</span> a[maxn][maxn];</span><br><span class="line"><span class="type">int</span> s[<span class="number">2</span>][<span class="number">2</span>][maxn][maxn];</span><br><span class="line"><span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> id1, <span class="type">int</span> id2, <span class="type">int</span> l1, <span class="type">int</span> r1, <span class="type">int</span> l2, <span class="type">int</span> r2)</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> temp = s[id1][id2][l2][r2]+s[id1][id2][l1<span class="number">-1</span>][r1<span class="number">-1</span>]-s[id1][id2][l1<span class="number">-1</span>][r2]-s[id1][id2][l2][r1<span class="number">-1</span>];</span><br><span class="line">	temp += MOD;</span><br><span class="line">	temp %= MOD;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="type">int</span> n;cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++) &#123;</span><br><span class="line">		<span class="type">char</span> c;cin&gt;&gt;c;</span><br><span class="line">		<span class="keyword">if</span> (c==<span class="string">&#x27;G&#x27;</span>) a[i][j] = <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++) prx[j] = prx[j<span class="number">-1</span>]+a[i][j];</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> l=<span class="number">1</span>;l&lt;=n;l++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> r=l;r&lt;=n;r++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (prx[r]-prx[l<span class="number">-1</span>]==r-l+<span class="number">1</span>) f[i][l][r] = <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> l=<span class="number">1</span>;l&lt;=n;l++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> r=l;r&lt;=n;r++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (f[i][l][r]) &#123;</span><br><span class="line">					dp[i][l][r][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;	</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++) &#123;</span><br><span class="line">		<span class="built_in">memset</span>(s,<span class="number">0</span>,<span class="built_in">sizeof</span>(s));</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> l=<span class="number">1</span>;l&lt;=n+<span class="number">1</span>;l++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> r=<span class="number">1</span>;r&lt;=n+<span class="number">1</span>;r++) &#123;</span><br><span class="line">				s[<span class="number">0</span>][<span class="number">0</span>][l][r] = s[<span class="number">0</span>][<span class="number">0</span>][l][r<span class="number">-1</span>]+s[<span class="number">0</span>][<span class="number">0</span>][l<span class="number">-1</span>][r]-s[<span class="number">0</span>][<span class="number">0</span>][l<span class="number">-1</span>][r<span class="number">-1</span>];</span><br><span class="line">				s[<span class="number">0</span>][<span class="number">0</span>][l][r] += dp[i<span class="number">-1</span>][l][r][<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">				s[<span class="number">0</span>][<span class="number">0</span>][l][r] += MOD;</span><br><span class="line">				s[<span class="number">0</span>][<span class="number">0</span>][l][r] %= MOD;</span><br><span class="line">				</span><br><span class="line">				s[<span class="number">1</span>][<span class="number">0</span>][l][r] = s[<span class="number">1</span>][<span class="number">0</span>][l][r<span class="number">-1</span>]+s[<span class="number">1</span>][<span class="number">0</span>][l<span class="number">-1</span>][r]-s[<span class="number">1</span>][<span class="number">0</span>][l<span class="number">-1</span>][r<span class="number">-1</span>];</span><br><span class="line">				s[<span class="number">1</span>][<span class="number">0</span>][l][r] += dp[i<span class="number">-1</span>][l][r][<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">				s[<span class="number">1</span>][<span class="number">0</span>][l][r] += MOD;</span><br><span class="line">				s[<span class="number">1</span>][<span class="number">0</span>][l][r] %= MOD;</span><br><span class="line">				</span><br><span class="line">				s[<span class="number">0</span>][<span class="number">1</span>][l][r] = s[<span class="number">0</span>][<span class="number">1</span>][l][r<span class="number">-1</span>]+s[<span class="number">0</span>][<span class="number">1</span>][l<span class="number">-1</span>][r]-s[<span class="number">0</span>][<span class="number">1</span>][l<span class="number">-1</span>][r<span class="number">-1</span>];</span><br><span class="line">				s[<span class="number">0</span>][<span class="number">1</span>][l][r] += dp[i<span class="number">-1</span>][l][r][<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">				s[<span class="number">0</span>][<span class="number">1</span>][l][r] += MOD;</span><br><span class="line">				s[<span class="number">0</span>][<span class="number">1</span>][l][r] %= MOD;</span><br><span class="line">				</span><br><span class="line">				s[<span class="number">1</span>][<span class="number">1</span>][l][r] = s[<span class="number">1</span>][<span class="number">1</span>][l][r<span class="number">-1</span>]+s[<span class="number">1</span>][<span class="number">1</span>][l<span class="number">-1</span>][r]-s[<span class="number">1</span>][<span class="number">1</span>][l<span class="number">-1</span>][r<span class="number">-1</span>];</span><br><span class="line">				s[<span class="number">1</span>][<span class="number">1</span>][l][r] += dp[i<span class="number">-1</span>][l][r][<span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">				s[<span class="number">1</span>][<span class="number">1</span>][l][r] += MOD;</span><br><span class="line">				s[<span class="number">1</span>][<span class="number">1</span>][l][r] %= MOD;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> l=<span class="number">1</span>;l&lt;=n;l++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> r=l;r&lt;=n;r++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!f[i][l][r]) <span class="keyword">continue</span>;</span><br><span class="line">				dp[i][l][r][<span class="number">0</span>][<span class="number">0</span>] += <span class="built_in">sum</span>(<span class="number">0</span>,<span class="number">0</span>,l,<span class="number">1</span>,n+<span class="number">1</span>,r);</span><br><span class="line">				dp[i][l][r][<span class="number">0</span>][<span class="number">0</span>] %= MOD;</span><br><span class="line">				</span><br><span class="line">				dp[i][l][r][<span class="number">0</span>][<span class="number">1</span>] += <span class="built_in">sum</span>(<span class="number">0</span>,<span class="number">1</span>,l,r,r,n+<span class="number">1</span>);</span><br><span class="line">				dp[i][l][r][<span class="number">0</span>][<span class="number">1</span>] += <span class="built_in">sum</span>(<span class="number">0</span>,<span class="number">0</span>,l,r+<span class="number">1</span>,r,n+<span class="number">1</span>);</span><br><span class="line">				dp[i][l][r][<span class="number">0</span>][<span class="number">1</span>] %= MOD;</span><br><span class="line">				</span><br><span class="line">				dp[i][l][r][<span class="number">1</span>][<span class="number">0</span>] += <span class="built_in">sum</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,l,l,r);</span><br><span class="line">				<span class="keyword">if</span> (l!=<span class="number">1</span>) dp[i][l][r][<span class="number">1</span>][<span class="number">0</span>] += <span class="built_in">sum</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,l,l<span class="number">-1</span>,r);</span><br><span class="line">				dp[i][l][r][<span class="number">1</span>][<span class="number">0</span>] %= MOD;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span> (l!=<span class="number">1</span>) dp[i][l][r][<span class="number">1</span>][<span class="number">1</span>] += <span class="built_in">sum</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,r+<span class="number">1</span>,l<span class="number">-1</span>,n+<span class="number">1</span>);</span><br><span class="line">				<span class="keyword">if</span> (l!=<span class="number">1</span>) dp[i][l][r][<span class="number">1</span>][<span class="number">1</span>] += <span class="built_in">sum</span>(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,r,l<span class="number">-1</span>,n+<span class="number">1</span>);</span><br><span class="line">				dp[i][l][r][<span class="number">1</span>][<span class="number">1</span>] += <span class="built_in">sum</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,r+<span class="number">1</span>,l,n+<span class="number">1</span>);</span><br><span class="line">				dp[i][l][r][<span class="number">1</span>][<span class="number">1</span>] += <span class="built_in">sum</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,r,l,n+<span class="number">1</span>);</span><br><span class="line">				dp[i][l][r][<span class="number">1</span>][<span class="number">1</span>] %= MOD;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> l=<span class="number">1</span>;l&lt;=n;l++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> r=l;r&lt;=n;r++) &#123;</span><br><span class="line">				ans += dp[i][l][r][<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">				ans += dp[i][l][r][<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">				ans += dp[i][l][r][<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">				ans += dp[i][l][r][<span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">				ans %= MOD;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

                </div>
            </div>
    
            
<nav class="post-pagination">
    
    <a class="newer-posts" href="/2023/01/01/%E4%B8%AD%E6%96%87/WC2021%20%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B1%82%E5%80%BC%E9%A2%98%E8%A7%A3/">
        Previous post<br>WC2021 表达式求值题解
    </a>
    
    <span class="page-number"></span>
    
    <a class="older-posts" href="/2023/01/01/%E4%B8%AD%E6%96%87/ZROI%20Day%201%20%E6%B8%B8%E8%AE%B0/">
        Next post<br>ZROI Day 1 游记
    </a>
    
</nav>


    
            

<div class="post-comment-wrapper-giscus">
    <div class="giscus"></div>
</div>



        </div>
    </div>
    <div class="single-column-footer">
    Proudly published with Hexo<br>
    
    Theme <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> by <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a><br>
    
    &copy; 2023 <a href="https://7ue9ueue.github.io">KarL05&#39;s Blog</a>
</div>
</div>

</div>


<script src="https://lib.baomitu.com/jquery/3.3.1/jquery.min.js" crossorigin="anonymous"></script>
<script src="https://lib.baomitu.com/popper.js/1.14.4/umd/popper.min.js" crossorigin="anonymous"></script>
<script src="https://lib.baomitu.com/twitter-bootstrap/4.1.3/js/bootstrap.min.js" crossorigin="anonymous"></script>
<script src="https://lib.baomitu.com/vue/2.5.17/vue.min.js" crossorigin="anonymous"></script>
<script src="https://lib.baomitu.com/smooth-scroll/14.2.1/smooth-scroll.min.js" crossorigin="anonymous"></script>
<script src="/js/journal.min.js?97608948"></script>




<script src="https://giscus.app/client.js"
        
        data-repo="7ue9ueue/7ue9ueue.github.io"
        
        data-repo-id="R_kgDOJqovWQ"
        
        data-category="Announcements"
        
        data-category-id="DIC_kwDOJqovWc4CXE4u"
        
        data-mapping="pathname"
        
        data-reactions-enabled="1"
        
        data-emit-metadata="0"
        
        data-theme="light_high_contrast"
        
        crossorigin="anonymous"
        async>
</script>



</body>
</html>
